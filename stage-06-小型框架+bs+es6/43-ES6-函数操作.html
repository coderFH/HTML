<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>

<script id="默认参数">
    function logPerson(name, sex = '男', age = 20) {
        console.log(name);
        console.log(sex);
        console.log(age);
    }
    logPerson();
</script>

<script id="延展">
    let logName = function (arg1, ...arg2) {
        console.log(arg1,arg2);
    };
    logName('张三','李四','王五');
</script>

<script id="箭头函数">
    let nameArr = ['张三','李四','王五'];
    nameArr.forEach((index,value,array) => {
        console.log(index,value,array);
    });

    //如果只取value,可以用以下写法
    nameArr.forEach(value => console.log(value));
</script>

<script id="this指向">
    console.log('======= this指向 =======');
    //在es5中的写法
    let obj = {
        str : '张三',
        logThis : function () {
            let self = this;
            setTimeout(function () {
                console.log(this);
                console.log(this.str); //在es5中,函数内部的函数 this其实指向window,所以一般需要备份指针
                console.log(self.str);
            });
        }
    };
    obj.logThis();

    //但是在es6中,就可以使用箭头函数去处理备份指针的问题
    //箭头函数根本没有自己的this,所以内部的this就是外层代码块的this,正因为没有,从而避免了this指向的问题
    let obj1 = {
        str : '周杰伦',
        logThis1 : function () {
            setTimeout(()=> {
                console.log(this);
                console.log(this.str);
            });
        }
    };
    obj1.logThis1();
</script>

<script id="箭头函数的注意点">
    console.log('======= 箭头函数的注意点 =======');
    let site = 'like.com'; //let声明的变量不会放在window上
    let obj2 = {
        site : '撩课',
        test : () => {
            console.log(this); //this指向window
            console.log(this.site); //underfined  //对象不是作用域  所以this就是window,而不是obj2
        }
    };
    let func = obj2.test;
    func();
</script>
</body>
</html>